include virtual://html/header.pug

doctype html
html
	head
		title Serenity Documentation
		if virtual
			link(rel="stylesheet",href="/__server/virtual/css/style.css")
			link(rel="stylesheet",href="/__server/virtual/css/md.css")
		else
			link(rel="stylesheet",href="/css/style.css")
			link(rel="stylesheet",href="/css/md.css")
		link(rel="stylesheet",type="text/css",href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900italic,900")
		link(rel="stylesheet",href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css")
		script(src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js")
		if virtual
			script(src="/__server/virtual/js/shell.js")
		else
			script(src="/js/shell.js")
	body
		.body
			+header("Docs")
			.main
				.docs
					.contents
						if breadcrumbs
							each val, key in breadcrumbs
								p.breadcrumbs(style="margin-top: 0; margin-bottom: 0; margin-left: " + (1.0 + 1.0 * key) + "rem;")
									a.breadcrumbs(style="font-size: 1.0rem; font-weight: 400;",href=val.Url)=val.Title
						if root
							p: a(href=root) ↑ Move up
						if contents
							.source!= contents
						form(method="POST",action=window.location.pathname+"?createArticle")
							input(name="name",type="text",placeholder="Name")
							input(name="title",type="text",placeholder="Title")
							input(type="submit",value="Create article")
						form(method="POST",action=window.location.pathname+"?createCategory")
							input(name="name",type="text",placeholder="Name")
							input(name="title",type="text",placeholder="Title")
							input(type="submit",value="Create category")
					.doc
						.editblock(style="margin-top: -0.5rem;margin-bottom: -0.5rem")
							p.editbutton(style="margin: 0")
								a(href="#editblock",onclick="return ToggleEditor()") Edit ✎
								a.null(href="?delete")= (isCategory?"Delete category":"Delete article")
							#editblock.editorclosed
								textarea(id="editor",style="display:none;")= mdsource
						if source
							#sourceblock.source!= source
